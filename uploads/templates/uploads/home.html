<!-- uploads/templates/uploads/home.html -->

{% extends 'base.html' %}

{% block content %}

{% if user.is_authenticated %}
    <!-- Logged in user view -->
    <div style="text-align: center; margin: 40px 0;">
        <h1>Welcome back, {{ user.username }}! ğŸ‘‹</h1>
        <p style="font-size: 1.2em; color: #666;">Your secure cloud file storage</p>
    </div>

    <!-- User Statistics Dashboard -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
        
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; text-align: center;">
            <div style="font-size: 3em; font-weight: bold;">{{ total_files }}</div>
            <div style="font-size: 1.1em; margin-top: 10px;">Total Files</div>
        </div>

        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 30px; border-radius: 10px; text-align: center;">
            <div style="font-size: 3em; font-weight: bold;">{{ active_files }}</div>
            <div style="font-size: 1.1em; margin-top: 10px;">Active Files</div>
        </div>

        <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 30px; border-radius: 10px; text-align: center;">
            <div style="font-size: 3em; font-weight: bold;">{{ total_size_mb }}</div>
            <div style="font-size: 1.1em; margin-top: 10px;">MB Used</div>
        </div>

    </div>

    <!-- Quick Actions -->
    <div style="margin: 40px 0;">
        <h2>Quick Actions</h2>
        <div style="display: flex; gap: 15px; margin-top: 20px;">
            <a href="{% url 'upload_file' %}" style="background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">
                ğŸ“¤ Upload New File
            </a>
            <a href="{% url 'file_list' %}" style="background: #007bff; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;">
                ğŸ“ View My Files
            </a>
        </div>
    </div>

    <!-- Info Section -->
    <div style="background: #f8f9fa; padding: 25px; border-radius: 10px; margin-top: 40px;">
        <h3>ğŸ’¡ Did you know?</h3>
        <ul style="line-height: 2;">
            <li>Your files are stored securely in Amazon S3 cloud storage</li>
            <li>Download links are private and expire after 15 minutes</li>
            <li>You can set files to auto-delete after a certain number of days</li>
            <li>All files are encrypted at rest for maximum security</li>
        </ul>
    </div>

{% else %}
    <!-- Logged out user view -->
    <div style="text-align: center; margin: 60px 0;">
        <h1 style="font-size: 3em; margin-bottom: 20px;">â˜ï¸ Secure File Share</h1>
        <p style="font-size: 1.4em; color: #666; margin-bottom: 40px;">
            Upload, store, and share your files securely in the cloud
        </p>
        
        <div style="margin: 40px 0;">
            <a href="/accounts/login/" style="background: #007bff; color: white; padding: 15px 40px; text-decoration: none; border-radius: 5px; font-size: 1.2em; font-weight: bold; display: inline-block; margin-right: 15px;">
                Login
            </a>
            <a href="/admin/" style="background: #6c757d; color: white; padding: 15px 40px; text-decoration: none; border-radius: 5px; font-size: 1.2em; font-weight: bold; display: inline-block;">
                Admin Panel
            </a>
        </div>
    </div>

    <!-- Features Section -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 60px 0;">
        
        <div style="text-align: center; padding: 30px;">
            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ”’</div>
            <h3>Secure Storage</h3>
            <p style="color: #666;">Files encrypted and stored in AWS S3 with private access only</p>
        </div>

        <div style="text-align: center; padding: 30px;">
            <div style="font-size: 3em; margin-bottom: 15px;">â±ï¸</div>
            <h3>Expiring Links</h3>
            <p style="color: #666;">Download links expire automatically for added security</p>
        </div>

        <div style="text-align: center; padding: 30px;">
            <div style="font-size: 3em; margin-bottom: 15px;">ğŸ“Š</div>
            <h3>File Management</h3>
            <p style="color: #666;">Track all your uploads with detailed history and stats</p>
        </div>

    </div>

    <!-- Tech Stack Section -->
    <div style="background: #f8f9fa; padding: 40px; border-radius: 10px; margin-top: 60px;">
        <h2 style="text-align: center; margin-bottom: 30px;">Built with Modern Technology</h2>
        <div style="display: flex; justify-content: center; gap: 40px; flex-wrap: wrap;">
            <div style="text-align: center;">
                <div style="font-size: 2em; margin-bottom: 10px;">ğŸ</div>
                <strong>Django</strong>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2em; margin-bottom: 10px;">â˜ï¸</div>
                <strong>AWS S3</strong>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2em; margin-bottom: 10px;">ğŸ”</div>
                <strong>Secure Auth</strong>
            </div>
            <div style="text-align: center;">
                <div style="font-size: 2em; margin-bottom: 10px;">âš¡</div>
                <strong>Fast & Scalable</strong>
            </div>
        </div>
    </div>

{% endif %}

{% endblock %}